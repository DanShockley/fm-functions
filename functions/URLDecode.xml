<fmxmlsnippet type="FMObjectList">
	<CustomFunction id="19" functionArity="1" visible="True" parameters="text" name="URLDecode">
		<Calculation><![CDATA[// URLDecode ( text )
// version 1.0

/*
	Translates URL-encoded text back to regular characters. Reverse of the built-in function GetAsURLEncoded ( text ).
	Also handles Unicode characters encoded in the %uXXXX style.


NOTE:
	For a list of encoding translations, see: http://www.w3schools.com/TAGS/ref_urlencode.asp 


HISTORY:
	1.0 - 2016-11-08 ( eshagdar ): added formatting.
	0.0 - 201x-xx-xx ( xxxxx ): created
*/


Substitute ( 
	text 
	; [ "%09" ; char ( 9 ) ]    /* horizontal tab */
	; [ "%0A" ; char ( 10 ) ]    /* line feed */
	; [ "%0B" ; char ( 11 ) ]    /* vertical tab */
	; [ "%0C" ; char ( 12 ) ]    /* form feed */
	; [ "%0D" ; char ( 13 ) ]    /* carriage return */

	; [ "%1E" ; char ( 30 ) ]    /* record separator */
	; [ "%1F" ; char ( 31 ) ]    /* unit separator */

	; [ "%20" ; " " ]    /* space */
	; [ "%21" ; "!" ] 
	; [ "%22" ; "\"" ] 
	; [ "%23" ; "#" ] 
	; [ "%24" ; "$" ] 
	; [ "%25" ; "%" ] 
	; [ "%26" ; "&" ] 
	; [ "%27" ; "'" ] 
	; [ "%28" ; "(" ] 
	; [ "%29" ; ")" ] 
	; [ "%2A" ; "*" ] 
	; [ "%2B" ; "+" ] 
	; [ "%2C" ; "," ] 
	; [ "%2D" ; "-" ] 
	; [ "%2E" ; "." ] 
	; [ "%2F" ; "/" ] 

	// 30 - 39 are the base-ten numbers

	; [ "%3A" ; ":" ] 
	; [ "%3B" ; ";" ] 
	; [ "%3C" ; "<" ] 
	; [ "%3D" ; "=" ] 
	; [ "%3E" ; ">" ] 
	; [ "%3F" ; "?" ] 

	; [ "%40" ; "@" ] 

	// 41 - 5A are the uppercase alphabet

	; [ "%5B" ; "[" ] 
	; [ "%5C" ; "\\" ] 
	; [ "%5D" ; "]" ] 
	; [ "%5E" ; "^" ] 
	; [ "%5F" ; "_" ] 

	; [ "%60" ; "`" ] 

	// 61 - 7A are the lowercase alphabet

	; [ "%7B" ; "{" ] 
	; [ "%7C" ; "|" ] 
	; [ "%7D" ; "}" ] 
	; [ "%7E" ; "~" ] 
	; [ "%7F" ; " " ] 

	; [ "%80" ; "€" ] 
	; [ "%81" ; " " ] 
	; [ "%82" ; "‚" ] 
	; [ "%83" ; "ƒ" ] 
	; [ "%84" ; "\„" ] 
	; [ "%85" ; "…" ] 
	; [ "%86" ; "†" ] 
	; [ "%87" ; "‡" ] 
	; [ "%88" ; "ˆ" ] 
	; [ "%89" ; "‰" ] 
	; [ "%8A" ; "Š" ] 
	; [ "%8B" ; "‹" ] 
	; [ "%8C" ; "Œ" ] 
	; [ "%8D" ; " " ] 
	; [ "%8E" ; "Ž" ] 
	; [ "%8F" ; " " ] 

	; [ "%90" ; " " ] 
	; [ "%91" ; "‘" ] 
	; [ "%92" ; "’" ] 
	; [ "%93" ; "\“" ] 
	; [ "%94" ; "\”" ] 
	; [ "%95" ; "•" ] 
	; [ "%96" ; "–" ] 
	; [ "%97" ; "—" ] 
	; [ "%98" ; "˜" ] 
	; [ "%99" ; "™" ] 
	; [ "%9A" ; "š" ] 
	; [ "%9B" ; "›" ] 
	; [ "%9C" ; "œ" ] 
	; [ "%9D" ; " " ] 
	; [ "%9E" ; "ž" ] 
	; [ "%9F" ; "Ÿ" ] 

	; [ "%A0" ; " " ] 
	; [ "%A1" ; "¡" ] 
	; [ "%A2" ; "¢" ] 
	; [ "%A3" ; "£" ] 
	; [ "%A4" ; "¤" ] 
	; [ "%A5" ; "¥" ] 
	; [ "%A6" ; "|" ] 
	; [ "%A7" ; "§" ] 
	; [ "%A8" ; "¨" ] 
	; [ "%A9" ; "©" ] 
	; [ "%AA" ; "ª" ] 
	; [ "%AB" ; "«" ] 
	; [ "%AC" ; "¬" ] 
	; [ "%AD" ; "¯" ] 
	; [ "%AE" ; "®" ] 
	; [ "%AF" ; "¯" ] 

	; [ "%B0" ; "°" ] 
	; [ "%B1" ; "±" ] 
	; [ "%B2" ; "²" ] 
	; [ "%B3" ; "³" ] 
	; [ "%B4" ; "´" ] 
	; [ "%B5" ; "µ" ] 
	; [ "%B6" ; "¶" ] 
	; [ "%B7" ; "·" ] 
	; [ "%B8" ; "¸" ] 
	; [ "%B9" ; "¹" ] 
	; [ "%BA" ; "º" ] 
	; [ "%BB" ; "»" ] 
	; [ "%BC" ; "¼" ] 
	; [ "%BD" ; "½" ] 
	; [ "%BE" ; "¾" ] 
	; [ "%BF" ; "¿" ] 

	; [ "%C0" ; "À" ] 
	; [ "%C1" ; "Á" ] 
	; [ "%C2" ; "Â" ] 
	; [ "%C3" ; "Ã" ] 
	; [ "%C4" ; "Ä" ] 
	; [ "%C5" ; "Å" ] 
	; [ "%C6" ; "Æ" ] 
	; [ "%C7" ; "Ç" ] 
	; [ "%C8" ; "È" ] 
	; [ "%C9" ; "É" ] 
	; [ "%CA" ; "Ê" ] 
	; [ "%CB" ; "Ë" ] 
	; [ "%CC" ; "Ì" ] 
	; [ "%CD" ; "Í" ] 
	; [ "%CE" ; "Î" ] 
	; [ "%CF" ; "Ï" ] 

	; [ "%D0" ; "Ð" ] 
	; [ "%D1" ; "Ñ" ] 
	; [ "%D2" ; "Ò" ] 
	; [ "%D3" ; "Ó" ] 
	; [ "%D4" ; "Ô" ] 
	; [ "%D5" ; "Õ" ] 
	; [ "%D6" ; "Ö" ] 
	; [ "%D7" ; "×" ] 
	; [ "%D8" ; "Ø" ] 
	; [ "%D9" ; "Ù" ] 
	; [ "%DA" ; "Ú" ] 
	; [ "%DB" ; "Û" ] 
	; [ "%DC" ; "Ü" ] 
	; [ "%DD" ; "Ý" ] 
	; [ "%DE" ; "Þ" ] 
	; [ "%DF" ; "ß" ] 

	; [ "%E0" ; "à" ] 
	; [ "%E1" ; "á" ] 
	; [ "%E2" ; "â" ] 
	; [ "%E3" ; "ã" ] 
	; [ "%E4" ; "ä" ] 
	; [ "%E5" ; "å" ] 
	; [ "%E6" ; "æ" ] 
	; [ "%E7" ; "ç" ] 
	; [ "%E8" ; "è" ] 
	; [ "%E9" ; "é" ] 
	; [ "%EA" ; "ê" ] 
	; [ "%EB" ; "ë" ] 
	; [ "%EC" ; "ì" ] 
	; [ "%ED" ; "í" ] 
	; [ "%EE" ; "î" ] 
	; [ "%EF" ; "ï" ] 
	; [ "%F0" ; "ð" ] 

	; [ "%F1" ; "ñ" ] 
	; [ "%F2" ; "ò" ] 
	; [ "%F3" ; "ó" ] 
	; [ "%F4" ; "ô" ] 
	; [ "%F5" ; "õ" ] 
	; [ "%F6" ; "ö" ] 
	; [ "%F7" ; "÷" ] 
	; [ "%F8" ; "ø" ] 
	; [ "%F9" ; "ù" ] 
	; [ "%FA" ; "ú" ] 
	; [ "%FB" ; "û" ] 
	; [ "%FC" ; "ü" ] 
	; [ "%FD" ; "ý" ] 
	; [ "%FE" ; "þ" ] 
	; [ "%FF" ; "ÿ" ] 
)]]>
		</Calculation>
	</CustomFunction>
</fmxmlsnippet>